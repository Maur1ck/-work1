{% extends "base.html" %}

{% block content %}
<div class="text-center my-5">
    <h1 class="display-4">Юридические услуги легко и доступно</h1>
    <p class="lead">Все юридические услуги в одном месте от компании Леги.ру</p>
    <div class="mt-4">
        <a href="#" class="btn btn-custom mr-2">Наши услуги</a>
        <a href="#" class="btn btn-outline-secondary btn-lg">О компании</a>
    </div>
</div>
<div class="text-container my-5">
        <h1 class="display-5">Комплексные юридические услуги от Леги.ру</h1>
 </div>
<div class="services-container">
        <div class="service-item">
            <div class="service-name">Юридическая консультация</div>
            <div class="service-price">от 200 000 руб</div>
            <div class="service-description">Описание</div>
        </div>
        <div class="service-item">
            <div class="service-name">Составление договоров</div>
            <div class="service-price">от 300 000 руб</div>
            <div class="service-description">Описание</div>
        </div>
        <div class="service-item">
            <div class="service-name">Регистрация бизнеса</div>
            <div class="service-price">от 500 000 руб.</div>
            <div class="service-description">Описание</div>
        </div>
</div>

<!-- Контейнер для поля заявки -->
<section class="services-section py-5" style="background-color: #f5f5f5;">
    <div class="container">
        <!-- Заголовки -->
        <div class="text-center mb-4">
            <h2 class="display-5">Все юридические услуги в одном месте</h2>
            <p class="text-muted">Надежное правовое сопровождение вашего бизнеса</p>
        </div>
        <!-- Форма -->
        <div class="row">
            <div class="col-lg-9">
                <form id="services-form" class="row g-3">
                    <!-- Поле имени -->
                    <div class="col-md-4">
                        <input type="text" class="form-control" id="name" name="name" placeholder="Ваше имя" required>
                    </div>
                    <!-- Поле телефона -->
                    <div class="col-md-4">
                        <input type="tel" class="form-control" id="phone" name="phone" placeholder="+7 (495) 888-00-00" required>
                    </div>
                    <!-- Поле почты -->
                    <div class="col-md-4">
                        <input type="email" class="form-control" id="email" name="email" placeholder="E-mail" required>
                    </div>
                </form>
            </div>
            <!-- Кнопка -->
            <div class="col-lg-3 d-flex align-items-end">
                <button class="btn btn-custom w-100" type="submit" onclick="validateForm()">Отправить запрос</button>
            </div>
        </div>
    </div>
</section>

<!-- Контейнер для карты -->
<div id="map" style="width: 100%; height: 400px; margin-top: 20px;"></div>

<script src="https://api-maps.yandex.ru/2.1/?lang=ru_RU" type="text/javascript"></script>
<script>
    ymaps.ready(() => {
        const myMap = new ymaps.Map("map", {
            center: [55.751574, 37.573856], // Координаты центра карты (Москва)
            zoom: 10
        });

        // Добавляем метку на карту
        const myPlacemark = new ymaps.Placemark([55.751574, 37.573856], {
            hintContent: "Компания Леги.ру",
            balloonContent: "Здесь находится наш офис"
        });

        myMap.geoObjects.add(myPlacemark);
    });

    // Валидация формы на стороне клиента
    function validateForm() {
        const name = document.getElementById("name").value;
        const phone = document.getElementById("phone").value;
        const email = document.getElementById("email").value;
        const phonePattern = /^((8|\+7)[\- ]?)?(\(?\d{3}\)?[\- ]?)?[\d\- ]{7,10}$/;
        const emailPattern = /^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/;

        // Проверка, что все поля заполнены
        if (name === "" || phone === "" || email === "") {
            alert("Пожалуйста, заполните все поля.");
            return false;
        }

        // Проверка телефона
        if (!phone.match(phonePattern)) {
            alert("Введите телефон в формате: +7 (495) 888-00-00");
            return false;
        }

        // Проверка e-mail
        if (!email.match(emailPattern)) {
            alert("Введите корректный E-mail.");
            return false;
        }

        // Если форма валидна, отправляем запрос
        alert("Данные успешно отправлены!");
        return true;
    }
</script>

{% endblock %}
